<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>The Daily Quote</title>

	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

	<!--[if lt IE 8]>
	<script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE8.js"></script>
	<![endif]-->

	<!--[if lt IE 9]>
	<script src="assets/scripts/html5shiv.js"></script>
	<![endif]-->
	
	<link href='http://fonts.googleapis.com/css?family=Arbutus+Slab|Open+Sans' rel='stylesheet' type='text/css'>

<style type="text/css">
	@import url(http://reset5.googlecode.com/hg/reset.min.css);
	 
	body{
		background: #000;
		height: 100%;
	
		font-family: 'Arbutus Slab', 'Open Sans', serif;
	}

	#container{
		background: #e7e9e8;
	}
	
	.bar{
		position: relative; z-index:500;
		display: block;
		height: 80px; width: 100%;
		background: #D5D7D6;
	}
	
	#container>header{
		border-bottom: 1px solid #aeb0af;
		box-shadow: 0px 2px 8px #aeb0af;
	}
		header h1{
			padding: 15px 0 0 20px;
			font-size: 2.8em;
			color: #000;
			text-align: center;
			opacity: 0.1;
		}
	
	#quote-container{
		position: relative; z-index:5;
		margin: 0 auto;
		line-height: 0;
	}
		#quote-container img{}
		#quote-container blockquote{
			position: absolute;
			top: 30px; left: 30px;
			width: 40%;
			line-height: 1.1em;
			font-size: 1.8em;
			color: #fff;
			opacity: 0.8;
		}
			#quote-container blockquote p{}
			#quote-container blockquote footer{margin-top: 10px; padding-left: 0%;}
		
	#container>footer{
		border-top: 1px solid #aeb0af;
		box-shadow: 0px -2px 8px #aeb0af;
	}
		footer nav{
			display: block;
			overflow: hidden;
			padding: 10px 0 0 0;
			width: 321px;
			margin: 0 auto;
		}
			footer nav a{
				float: left; display: block;
				width: 80px; height: 60px;
				background: url("assets/img/icons.png") no-repeat;
				
				opacity: 0.1;
				transition: opacity .5s ease-in-out;
				-moz-transition: opacity .5s ease-in-out;
				-webkit-transition: opacity .5s ease-in-out;
			}
				footer nav a:hover{opacity: 0.7;}
				#about-menu-item{background-position: 5px -7px;}
				#quote-menu-item{background-position: -147px -7px;}
				#share-menu-item{background-position: -74px -7px;}
				#save-menu-item{background-position: -220px -7px;}
</style>

<script type="text/javascript">
	var oPicWidth = 0;
	var oPicHeight = 0;
	var windowWidth = 0;
	var windowHeight = 0;
	var cPicWidth = 0;
	var cPicHeight = 0;
	
	var quotePhoto = "assets/photos/marcus_aurelius.jpg";
	var quoteTxt = "If unwilling to rise in the morning, say to thyself, 'I awake to do the work of a man.'";
	var quoteAuthor = "Marcus Aurelius";
	
	// INIT
	$(document).ready(function(){
		updateWindowSize();	//displayTxt(windowWidth+"*"+windowHeight);
		setOriginalQuoteInfo();
	});

	// RESIZE EVENT
	$(window).resize(function(){
		updateWindowSize(); //displayTxt(windowWidth+"*"+windowHeight);
		updatePhotoSize();
	});

	// SET PHOTO
	function updatePhotoSize(){
		cPicHeight = windowHeight - (2*($(".bar").height()) + 2);
		if(oPicHeight >= cPicHeight){
			cPicWidth = (cPicHeight / oPicHeight) * oPicWidth;
			
			$("#quote-container").width(cPicWidth);
			$("#quote-container img").width(cPicWidth);
			$("#quote-container img").height(cPicHeight);
			//alert("ok, photo is: "+cPicWidth+"*"+cPicHeight);
		}
		else {
			alert("ko, increasing each bar height to: "+Math.floor((windowHeight - oPicHeight)/2));
		}
	}
	
	// TOOLBOX
	function updateWindowSize(){
		windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
		windowHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
	}
	function setOriginalQuoteInfo() {
		var newImg = new Image();

		newImg.onload = function() {
			oPicWidth = newImg.width;
			oPicHeight = newImg.height;
		
			updatePhotoSize();
		}
		
		$("#quote-container img").attr("src",quotePhoto);
		$("#quote-container blockquote p").html("&#8220;"+quoteTxt+"&#8221;");
		$("#quote-container blockquote footer").html("&mdash; "+quoteAuthor);
		newImg.src = quotePhoto;
	}
	function displayTxt(txt){
        $("header h1 span").html(" ("+txt+")");
	}
</script>

</head>

<body>

	<div id="container">
		<header class="bar">
			<h1>&mdash; The Daily Quote &mdash;<span></span></h1>
		</header>
		
		<section id="quote-container">
			<img src="">
			<blockquote>
				<p></p>
				<footer></footer>
			</blockquote>
		</section>
		
		<footer class="bar">
			<nav>
				<a href="#" id="about-menu-item" alt="About Website"></a>
				<a href="#" id="quote-menu-item" alt="About Quote"></a>
				<a href="#" id="share-menu-item" alt="Share"></a>
				<a href="#" id="save-menu-item" alt="Save"></a>
			</nav>
		</footer>
	</div>

</body>

</html>